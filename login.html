<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./bootstrap/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./css/login.css">
    <script src="./_js/bootstrap.bundle.js"></script>

    <title>會員登入</title>
</head>

<body>
    <div class="image-container">
        <img class="image" src="./img/JJ_水下_210306_6.jpg">
        <div class="image-text text-center">會員中心</div>
    </div>
    <!-- 導覽列 -->
    <nav class="navbar navbar-expand-lg  fixed-top navbar-transparent">
        <div class="container-fluid">
            <a class="navbar-brand" href="./購物網.html" style="width: 7%;">
                <img src="./img/diving-logo.png" style="width: 70%;">
            </a>
            <!-- shop下拉菜单 -->
            <div>
                <ul>
                    <li>
                        <a href="#">SHOP</i></a>
                        <ul>
                            <li><a href="./diveR.html"><b>DiveR</b></a></li>
                            <li><a href="./lazyfish.html"><b>LazyFish</b></a></li>
                            <li><a href="./V3.html"><b>AlcheMy V3</b></a></li>
                            <li><a href="./molchanovs.html"><b>Molchanovs</b></a></li>
                            <li><a href="./fish魚式.html"><b>魚式設計</b></a></li>
                            <li><a href="./prussian.html"><b>Prussian Blue</b></a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- about下拉菜单 -->
            <div>
                <ul>
                    <li>
                        <a href="#">ABOUT</i></a>
                        <ul>
                            <li><a href="./diveR about.html"><b>DiveR ABOUT</b></a></li>
                            <li><a href="./lazyfish about.html"><b>LazyFish ABOUT</b></a></li>
                            <li><a href="./V3 about.html"><b>AlcheMy V3 ABOUT</b></a></li>
                            <li><a href="./molchanovs about.html"><b>Molchanovs ABOUT</b></a></li>
                            <li><a href="./fish about.html"><b>魚式設計 ABOUT</b></a></li>
                            <li><a href="./prussian about.html"><b>Prussian Blue ABOUT</b></a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <i class="bi bi-cart3 ms-auto text-white" style="font-size: 20px;"></i>
            <a href="./login.html">
                <i class="bi bi-person text-white p-3" style="font-size: 20px;"></i>
            </a>
        </div>
    </nav>

    <!-- 登入與註冊 -->
    <ul class="nav nav-pills justify-content-center mt-5">
        <li class="nav-item"><a data-bs-toggle="pill" class="nav-link active" href="#login">登入</a></li>
        <li class="nav-item"><a data-bs-toggle="pill" class="nav-link" href="#register">註冊</a></li>
    </ul>

    <div class="tab-content container mt-5">
        <div class="tab-pane active show" id="login">
            <h3><b>登入</b></h3>
            <hr>
            <form>
                <div class="form-floating">
                    <input type="email" class="form-control" id="mail1" placeholder="name@example.com" required>
                    <label for="mail1">請輸入信箱<span class="text-danger">*</span></label>
                </div>
                <div class="form-floating">
                    <input type="password" class="form-control mt-3" id="Password" placeholder="Password" required>
                    <label for="Password">請輸入密碼<span class="text-danger">*</span></label>
                    <i class="bi bi-eye-fill" id="checkEye"></i>
                </div>
                <div>
                    <input type="checkbox" id="checkbox" class="mt-3">
                    <label for="checkbox">保持登入</label>
                    <input type="checkbox" id="remember" class="mt-3">
                    <label for="remember">記住我</label>
                </div>
                <button class="btn btn-dark btn-lg mt-3" onclick="login()">登入</button>
            </form>
        </div>
        <div class="tab-pane" id="register">
            <h3><b>註冊</b></h3>
            <hr>
            <form>
                <div class="form-floating">
                    <input type="text" class="form-control" id="name" placeholder="name" required>
                    <label for="name">請輸入姓名<span class="text-danger">*</span></label>
                </div>
                <div class="form-floating">
                    <input type="email" class="form-control mt-3" id="mail2" placeholder="name@example.com" required>
                    <label for="mail2">請輸入信箱<span class="text-danger">*</span></label>
                </div>
                <div class="form-floating">
                    <input type="password" class="form-control mt-3" id="Password2" placeholder="Password"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8, 20}" required>
                    <label for="Password2">請輸入密碼<span class="text-danger">*</span></label>
                    <i class="bi bi-eye-fill" id="checkEye2"></i>

                </div>
                <div class="form-floating">
                    <input type="password" class="form-control mt-3" id="Password3" placeholder="Password"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8, 20}" required>
                    <label for="Password3">請確認密碼<span class="text-danger">*</span></label>
                    <i class="bi bi-eye-fill" id="checkEye3"></i>

                    <span id="passwordCheck" class="text-danger"></span>
                    <div class="form-text">
                        您的密碼長度必須為 8-20 個字符，包含一個大寫字母、數字，並且不得包含空格、特殊字符或表情符號。
                    </div>
                </div>
                <button class="btn btn-dark btn-lg mt-3" onclick="register()">註冊</button>
            </form>
        </div>
    </div>



    <script>
        // 取得導覽列元素
        const navbar = document.querySelector('.navbar');

        // 設定滾動事件監聽器
        window.addEventListener('scroll', function () {
            // 取得目前滾動的垂直位置
            const scrollPosition = window.scrollY;

            // 如果滾動位置大於等於 100px，則添加 .navbar-solid 類別，使導覽列顯示
            // 否則移除 .navbar-solid 類別，使導覽列透明
            if (scrollPosition >= 100) {
                navbar.classList.add('navbar-solid');
            } else {
                navbar.classList.remove('navbar-solid');
            }
        });

        // 登入密碼顯示
        var password = document.getElementById('Password');
        var checkEye = document.getElementById('checkEye');

        checkEye.addEventListener('click', function () {
            if (password.type === 'password') {
                password.type = 'text';
                checkEye.classList.remove('bi-eye-fill');
                checkEye.classList.add('bi-eye-slash-fill');
            } else {
                password.type = 'password';
                checkEye.classList.remove('bi-eye-slash-fill');
                checkEye.classList.add('bi-eye-fill');
            }
        });

        // 註冊密碼顯示
        var password2 = document.getElementById('Password2');
        var checkEye2 = document.getElementById('checkEye2');

        checkEye2.addEventListener('click', function () {
            if (password2.type === 'password') {
                password2.type = 'text';
                checkEye2.classList.remove('bi-eye-fill');
                checkEye2.classList.add('bi-eye-slash-fill');
            } else {
                password2.type = 'password';
                checkEye2.classList.remove('bi-eye-slash-fill');
                checkEye2.classList.add('bi-eye-fill');
            }
        });

        // 註冊確認密碼顯示
        var password3 = document.getElementById('Password3');
        var checkEye3 = document.getElementById('checkEye3');

        checkEye3.addEventListener('click', function () {
            if (password3.type === 'password') {
                password3.type = 'text';
                checkEye3.classList.remove('bi-eye-fill');
                checkEye3.classList.add('bi-eye-slash-fill');
            } else {
                password3.type = 'password';
                checkEye3.classList.remove('bi-eye-slash-fill');
                checkEye3.classList.add('bi-eye-fill');
            }
        });

        // 確認密碼與註冊密碼是否一致
        var checkpassword2 = document.getElementById('Password2');
        var checkpassword3 = document.getElementById('Password3');
        var PasswordCheck = document.getElementById('passwordCheck');

        checkpassword3.addEventListener('input', check);

        function check() {
            var Checkpassword2 = checkpassword2.value;
            var Checkpassword3 = checkpassword3.value;

            if (Checkpassword2 !== Checkpassword3) {
                PasswordCheck.textContent = '請確認密碼是否一致';
            } else {
                PasswordCheck.textContent = '';
            }
        }

        // 保持登入 & 記住我
        var checkbox = document.getElementById('checkbox');
        var remember = document.getElementById('remember');

        checkbox.addEventListener('change', function () {
            if (checkbox.checked) {
                console.log('保持登入已勾選');
            } else {
                console.log('保持登入已取消勾選');
            }
        });

        remember.addEventListener('change', function () {
            if (remember.checked) {
                console.log('記住我已勾選');
            } else {
                console.log('記住我已取消勾選');
            }
        });

        // 按下登入檢查格式是否正確，且清空表單
        function login() {
            var email = document.getElementById('mail1').value;
            var password = document.getElementById('Password').value;

            if (loginvalid(email, password)) {
                alert('登入成功');

                // 清空表單資訊
                document.getElementById('mail1').value = '';
                document.getElementById('Password').value = '';
            } else {
                alert('帳號或密碼輸入不正確，請重新輸入');
            }
        }

        function loginvalid(email, password) {
            // 檢查帳號是否符合 email 格式
            var emailvalue = /^\w+([\.-]?\w)*@\w+([\.-]?\w)+(\.\w{2,3})+$/;
            var emailValid = emailvalue.test(email);

            // 檢查密碼是否包含一個英文字母
            var passwordValue = /^(?=.*[a-zA-Z]).+$/;
            var passwordValid = passwordValue.test(password);

            return emailValid && passwordValid;

        }

        // 註冊欄位檢查是否符合格式，且清空表單

        function register() {

            //獲取註冊表單的值
            var name = document.getElementById('name').value;
            var email = document.getElementById('mail2').value;
            var password = document.getElementById('Password2').value;

            // 假設帳號密碼驗證成功
            if (isRegistrationValid(name, email, password)) {
                // 彈出提示框
                alert('註冊成功！');

                // 清除表單數據
                document.getElementById('name').value = '';
                document.getElementById('mail2').value = '';
                document.getElementById('Password2').value = '';
                document.getElementById('Password3').value = '';
            } else {
                // 帳號密碼驗證失敗，顯示錯誤提示
                alert('帳號密碼格式不正確，請重新輸入！');
            }
        }

        function isRegistrationValid(name, email, password) {
            // 檢查帳號是否符合 Email 格式
            var emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            var isEmailValid = emailRegex.test(email);

            // 檢查密碼是否至少包含一個英文字母
            var passwordRegex = /^(?=.*[a-zA-Z]).+$/;
            var isPasswordValid = passwordRegex.test(password);

            // 檢查名字是否不是空白
            var isNameValid = name.trim() !== '';

            return isEmailValid && isPasswordValid && isNameValid;
        }


    </script>
</body>

</html>